<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accommodation Profile</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
    }
    .container {
        width: 90%;
        max-width: 1200px;
        margin: 20px auto;
        padding: 20px;
        background-color: white;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        border-radius: 5px;
    }
    .content {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .btn {
        padding: 10px 15px;
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
        text-decoration: none;
    }
    .btn:hover {
        background-color: #2980b9;
    }
    .form-group {
        margin-bottom: 15px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        width: 100%;
        color: #2c3e50;
    }
    .form-group select,
    .form-group input[type="number"],
    .form-group input[type="email"] {
        width: 100%;
        max-width: 400px;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
        transition: border-color 0.3s;
        font-size: 14px;
    }
    .form-group select:focus,
    .form-group input[type="number"]:focus,
    .form-group input[type="email"]:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
    }
    .save-button-container {
        margin-top: 20px;
        width: 100%;
        display: flex;
        justify-content: center;
    }
    .section-header {
        color: #2c3e50;
        border-bottom: 2px solid #3498db;
        padding-bottom: 5px;
        margin-bottom: 20px;
        font-size: 18px;
        width: 100%;
        text-align: center;
    }
    .budget-group {
        display: flex;
        gap: 15px;
        width: 100%;
        max-width: 400px;
    }
    .budget-group .form-group {
        flex: 1;
        margin-bottom: 0;
    }
    .budget-group .form-group input {
        max-width: none;
    }
    .form-description {
        font-size: 14px;
        color: #666;
        margin-bottom: 20px;
        text-align: center;
        font-style: italic;
    }
    .required {
        color: #e74c3c;
    }
  </style>
</head>
<body>
<a href="/index" style="text-decoration: none; margin-top: 40px; margin-left: 20px; display: block;">Back to Homepage</a>

<div class="container">
  <div class="content">
    <h2>Accommodation Profile</h2>
    <p class="form-description">Create your accommodation profile to help us match you with compatible living arrangements</p>

    <form th:action="@{/SaveAccommodationProfile}" method="post" th:object="${AccommodationProfile}">

      <h3 class="section-header">Personal Information</h3>

      <div class="form-group">
        <label for="email">Email Address <span class="required">*</span>:</label>
        <input type="email" id="email" th:field="*{email}" required placeholder="your.email@example.com"/>
      </div>

      <div class="form-group">
        <label for="age">Age <span class="required">*</span>:</label>
        <input type="number" id="age" th:field="*{age}" min="16" max="100" required/>
      </div>

      <div class="form-group">
        <label for="myGender">Gender <span class="required">*</span>:</label>
        <select id="myGender" th:field="*{myGender}" required>
          <option value="">Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Non-Binary">Non-Binary</option>
        </select>
      </div>

      <div class="form-group">
        <label for="course">Course <span class="required">*</span>:</label>
        <select id="course" th:field="*{course}" required>
          <option value="">Select Course</option>
          <option value="Mathematics">Mathematics</option>
          <option value="Computer Science">Computer Science</option>
          <option value="Physics">Physics</option>
          <option value="Chemistry">Chemistry</option>
          <option value="Biology">Biology</option>
          <option value="Engineering">Engineering</option>
          <option value="Business">Business</option>
          <option value="Psychology">Psychology</option>
        </select>
      </div>

      <h3 class="section-header">Lifestyle Preferences</h3>

      <div class="form-group">
        <label for="smoker">Smoking Status <span class="required">*</span>:</label>
        <select id="smoker" th:field="*{smoker}" required>
          <option value="">Select Option</option>
          <option value="Yes">Yes, I smoke</option>
          <option value="No">No, I don't smoke</option>
        </select>
      </div>

      <div class="form-group">
        <label for="hasPets">Pet Ownership <span class="required">*</span>:</label>
        <select id="hasPets" th:field="*{hasPets}" required>
          <option value="">Select Option</option>
          <option value="Yes">Yes, I have pets</option>
          <option value="No">No, I don't have pets</option>
        </select>
      </div>

      <div class="form-group">
        <label for="dietaryPattern">Dietary Pattern <span class="required">*</span>:</label>
        <select id="dietaryPattern" th:field="*{dietaryPattern}" required>
          <option value="">Select Diet</option>
          <option value="Meat-eater">Meat-eater</option>
          <option value="Vegetarian">Vegetarian</option>
          <option value="Vegan">Vegan</option>
          <option value="Pescatarian">Pescatarian</option>
        </select>
      </div>

      <div class="form-group">
        <label for="guests">Overnight Guests <span class="required">*</span>:</label>
        <select id="guests" th:field="*{guests}" required>
          <option value="">Select Option</option>
          <option value="Yes">Yes, I have overnight guests</option>
          <option value="No">No, I don't have overnight guests</option>
        </select>
      </div>

      <h3 class="section-header">Budget Range</h3>

      <div class="budget-group">
        <div class="form-group">
          <label for="minBudget">Minimum Budget ($) <span class="required">*</span>:</label>
          <input type="number" id="minBudget" th:field="*{minBudget}" min="0" step="50" required/>
        </div>

        <div class="form-group">
          <label for="maxBudget">Maximum Budget ($) <span class="required">*</span>:</label>
          <input type="number" id="maxBudget" th:field="*{maxBudget}" min="0" step="50" required/>
        </div>
      </div>

      <div class="save-button-container">
        <button type="submit" class="btn">ðŸ’¾ Save Accommodation Profile</button>
      </div>
    </form>
  </div>
</div>

<script>
  // Email validation
  document.getElementById('email').addEventListener('blur', function() {
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (this.value && !emailPattern.test(this.value)) {
      alert('Please enter a valid email address');
      this.focus();
    }
  });

  // Validate budget range
  document.getElementById('minBudget').addEventListener('change', function() {
    const maxBudget = document.getElementById('maxBudget');
    if (maxBudget.value && parseFloat(this.value) > parseFloat(maxBudget.value)) {
      alert('Minimum budget cannot be greater than maximum budget');
      this.value = '';
    }
  });

  document.getElementById('maxBudget').addEventListener('change', function() {
    const minBudget = document.getElementById('minBudget');
    if (minBudget.value && parseFloat(this.value) < parseFloat(minBudget.value)) {
      alert('Maximum budget cannot be less than minimum budget');
      this.value = '';
    }
  });

  // Age validation
  document.getElementById('age').addEventListener('change', function() {
    if (this.value < 16 || this.value > 100) {
      alert('Please enter a valid age between 16 and 100');
      this.value = '';
    }
  });

  // Form submission validation
  document.querySelector('form').addEventListener('submit', function(e) {
    const minBudget = parseFloat(document.getElementById('minBudget').value);
    const maxBudget = parseFloat(document.getElementById('maxBudget').value);
    const email = document.getElementById('email').value;
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (email && !emailPattern.test(email)) {
      e.preventDefault();
      alert('Please enter a valid email address');
      document.getElementById('email').focus();
      return false;
    }

    if (minBudget && maxBudget && minBudget > maxBudget) {
      e.preventDefault();
      alert('Please ensure minimum budget is not greater than maximum budget');
      return false;
    }
  });

  // Add visual feedback for form interactions
  document.addEventListener('DOMContentLoaded', function() {
    const formInputs = document.querySelectorAll('input, select');

    formInputs.forEach(input => {
      input.addEventListener('focus', function() {
        this.parentElement.style.transform = 'scale(1.02)';
        this.parentElement.style.transition = 'transform 0.2s';
      });

      input.addEventListener('blur', function() {
        this.parentElement.style.transform = 'scale(1)';
      });
    });
  });
</script>

</body>
</html>
